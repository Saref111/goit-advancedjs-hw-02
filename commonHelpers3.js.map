{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form');\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      shouldResolve ? resolve({ position, delay }) : reject({ position, delay });\n    }, delay);\n  });\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const formData = new FormData(event.currentTarget);\n  event.currentTarget.reset();\n  const amount = Number(formData.get('amount'));\n  const step = Number(formData.get('step'));\n  const delay = Number(formData.get('delay'));\n\n  for (let i = 0; i < amount; i += 1) {\n    createPromise(i + 1, delay + step * i).then(({ position, delay }) => {\n      iziToast.success({\n        title: 'Success',\n        message: `Promise ${position} resolved after ${delay}ms`,\n      });\n    }).catch(({ position, delay }) => {\n      iziToast.error({\n        title: 'Error',\n        message: `Promise ${position} rejected after ${delay}ms`,\n      });\n    });\n  }\n}\n\nform.addEventListener('submit', onSubmit);\n"],"names":["form","createPromise","position","delay","shouldResolve","resolve","reject","onSubmit","event","formData","amount","step","i","iziToast"],"mappings":"wIAIA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASC,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACfF,EAAgBC,EAAQ,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,EAAIG,EAAO,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,CAC1E,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASI,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAW,IAAI,SAASD,EAAM,aAAa,EACjDA,EAAM,cAAc,QACpB,MAAME,EAAS,OAAOD,EAAS,IAAI,QAAQ,CAAC,EACtCE,EAAO,OAAOF,EAAS,IAAI,MAAM,CAAC,EAClCN,EAAQ,OAAOM,EAAS,IAAI,OAAO,CAAC,EAE1C,QAASG,EAAI,EAAGA,EAAIF,EAAQE,GAAK,EAC/BX,EAAcW,EAAI,EAAGT,EAAQQ,EAAOC,CAAC,EAAE,KAAK,CAAC,CAAE,SAAAV,EAAU,MAAAC,CAAK,IAAO,CACnEU,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,WAAWX,oBAA2BC,KACvD,CAAO,CACF,CAAA,EAAE,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,CAAK,IAAO,CAChCU,EAAS,MAAM,CACb,MAAO,QACP,QAAS,WAAWX,oBAA2BC,KACvD,CAAO,CACP,CAAK,CAEL,CAEAH,EAAK,iBAAiB,SAAUO,CAAQ"}